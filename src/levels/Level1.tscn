[gd_scene load_steps=33 format=2]

[ext_resource path="res://src/levels/Level.gd" type="Script" id=1]
[ext_resource path="res://images/background/bg_0.png" type="Texture" id=2]
[ext_resource path="res://images/background/bg_2.png" type="Texture" id=3]
[ext_resource path="res://images/background/bg_1.png" type="Texture" id=4]
[ext_resource path="res://tilesets/grass_tileset.tres" type="TileSet" id=5]
[ext_resource path="res://src/helpers/TurnQueue.tscn" type="PackedScene" id=6]
[ext_resource path="res://src/stages/StageSprite1.tscn" type="PackedScene" id=7]
[ext_resource path="res://src/effects/Waterfall.tscn" type="PackedScene" id=9]
[ext_resource path="res://images/bg effects/decor/drygrass_props.png" type="Texture" id=10]
[ext_resource path="res://images/bg effects/decor/bigflowers_props.png" type="Texture" id=11]
[ext_resource path="res://images/bg effects/decor/arrow_plate_right.png" type="Texture" id=12]
[ext_resource path="res://images/bg effects/decor/flowers_props.png" type="Texture" id=13]
[ext_resource path="res://images/bg effects/decor/wooden_plate.png" type="Texture" id=14]
[ext_resource path="res://images/bg effects/decor/grass_props.png" type="Texture" id=15]
[ext_resource path="res://fonts/body text/Pixels TEXT.ttf" type="DynamicFontData" id=16]
[ext_resource path="res://src/HUD/TimeLeftLabel.gd" type="Script" id=17]
[ext_resource path="res://images/bg effects/bird_flying_anim_strip_3.png" type="Texture" id=18]
[ext_resource path="res://images/bg effects/bird_flying_anim_strip_3 flipped.png" type="Texture" id=19]
[ext_resource path="res://src/helpers/CameraMan.tscn" type="PackedScene" id=20]
[ext_resource path="res://src/HUD/TeamHP.tscn" type="PackedScene" id=21]
[ext_resource path="res://sounds/music/JDB_Red Control.ogg" type="AudioStream" id=22]
[ext_resource path="res://src/menus/WinMenu.tscn" type="PackedScene" id=23]
[ext_resource path="res://src/menus/LoseMenu.tscn" type="PackedScene" id=24]
[ext_resource path="res://src/stages/Water.tscn" type="PackedScene" id=25]

[sub_resource type="CanvasItemMaterial" id=1]
particles_animation = true
particles_anim_h_frames = 3
particles_anim_v_frames = 1
particles_anim_loop = true

[sub_resource type="Gradient" id=2]
offsets = PoolRealArray( 0, 0.544444, 1 )
colors = PoolColorArray( 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0 )

[sub_resource type="GradientTexture" id=3]
gradient = SubResource( 2 )

[sub_resource type="ParticlesMaterial" id=4]
emission_shape = 2
emission_box_extents = Vector3( 320, 180, 1 )
flag_disable_z = true
direction = Vector3( -1, 0, 0 )
spread = 20.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 30.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
color_ramp = SubResource( 3 )
anim_speed = 15.0

[sub_resource type="DynamicFont" id=5]
size = 24
font_data = ExtResource( 16 )

[sub_resource type="DynamicFont" id=6]
size = 48
font_data = ExtResource( 16 )

[sub_resource type="DynamicFont" id=7]
size = 24
font_data = ExtResource( 16 )

[sub_resource type="DynamicFont" id=8]
font_data = ExtResource( 16 )

[node name="Level1" type="Node2D"]
script = ExtResource( 1 )

[node name="Background" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 0.2, 1 )
motion_mirroring = Vector2( 240, 0 )

[node name="bg_0" type="Sprite" parent="Background/ParallaxLayer"]
texture = ExtResource( 2 )
centered = false
offset = Vector2( 0, 20 )
__meta__ = {
"_editor_description_": "w"
}

[node name="bg_1" type="Sprite" parent="Background/ParallaxLayer"]
position = Vector2( 240, 0 )
texture = ExtResource( 2 )
centered = false
offset = Vector2( 0, 20 )
__meta__ = {
"_editor_description_": "w"
}

[node name="ColorRect" type="ColorRect" parent="Background/ParallaxLayer"]
self_modulate = Color( 0.796078, 0.568627, 0.501961, 1 )
margin_top = -360.0
margin_right = 463.0
margin_bottom = 26.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="Background/ParallaxLayer"]
self_modulate = Color( 0.796078, 0.568627, 0.501961, 1 )
margin_left = 240.0
margin_top = -174.034
margin_right = 480.0
margin_bottom = 25.9661
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ParallaxLayer2" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 0.5, 1 )
motion_mirroring = Vector2( 240, 0 )

[node name="ColorRect2" type="ColorRect" parent="Background/ParallaxLayer2"]
self_modulate = Color( 0.768627, 0.509804, 0.431373, 1 )
margin_top = -336.0
margin_right = 434.0
margin_bottom = 26.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="Background/ParallaxLayer2"]
self_modulate = Color( 0.768627, 0.509804, 0.431373, 1 )
margin_left = 240.0
margin_top = -174.034
margin_right = 480.0
margin_bottom = 25.9661
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bg_1" type="Sprite" parent="Background/ParallaxLayer2"]
position = Vector2( 0, 20 )
texture = ExtResource( 4 )
centered = false

[node name="bg_2" type="Sprite" parent="Background/ParallaxLayer2"]
position = Vector2( 240, 20 )
texture = ExtResource( 4 )
centered = false

[node name="ParallaxLayer3" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 0.8, 1 )
motion_mirroring = Vector2( 240, 0 )

[node name="bg_2" type="Sprite" parent="Background/ParallaxLayer3"]
position = Vector2( 0, 4.40839 )
texture = ExtResource( 3 )
centered = false

[node name="bg_3" type="Sprite" parent="Background/ParallaxLayer3"]
position = Vector2( 240, 4.408 )
texture = ExtResource( 3 )
centered = false

[node name="ColorRect" type="ColorRect" parent="Background/ParallaxLayer3"]
margin_top = 160.0
margin_right = 40.0
margin_bottom = 200.0
rect_scale = Vector2( 11.88, 1 )
color = Color( 0.360784, 0.219608, 0.254902, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="WaterHandler" type="Node2D" parent="."]
position = Vector2( 0, 25.2625 )

[node name="Water" parent="WaterHandler" instance=ExtResource( 25 )]
position = Vector2( 381.075, 322.737 )
rotation = 3.14159
scale = Vector2( 47.928, -5.04933 )

[node name="Decor" type="Node2D" parent="."]
position = Vector2( 0, 2.90484 )

[node name="GrandWaterfall" type="Node2D" parent="Decor"]
position = Vector2( 0, -30.9048 )

[node name="Waterfall2" parent="Decor/GrandWaterfall" instance=ExtResource( 9 )]
position = Vector2( 327.887, 57.2625 )

[node name="Waterfall3" parent="Decor/GrandWaterfall" instance=ExtResource( 9 )]
position = Vector2( 344.239, 57.2625 )

[node name="Waterfall4" parent="Decor/GrandWaterfall" instance=ExtResource( 9 )]
position = Vector2( 336.469, 57.2625 )

[node name="GrandWaterfall2" type="Node2D" parent="Decor"]
position = Vector2( -0.0797005, 25.0952 )

[node name="Waterfall2" parent="Decor/GrandWaterfall2" instance=ExtResource( 9 )]
position = Vector2( 327.887, 57.2625 )

[node name="Waterfall3" parent="Decor/GrandWaterfall2" instance=ExtResource( 9 )]
position = Vector2( 344.239, 57.2625 )

[node name="Waterfall4" parent="Decor/GrandWaterfall2" instance=ExtResource( 9 )]
position = Vector2( 336.469, 57.2625 )

[node name="arrow_plate_right" type="Sprite" parent="Decor"]
position = Vector2( 146.457, 102.004 )
texture = ExtResource( 12 )

[node name="bigflowers_props" type="Sprite" parent="Decor"]
position = Vector2( 258.516, 123.308 )
texture = ExtResource( 11 )

[node name="drygrass_props" type="Sprite" parent="Decor"]
position = Vector2( 311.865, 9.3845 )
texture = ExtResource( 10 )

[node name="grass_props" type="Sprite" parent="Decor"]
position = Vector2( 373.716, 121.395 )
texture = ExtResource( 15 )

[node name="flowers_props" type="Sprite" parent="Decor"]
position = Vector2( 532.274, 121.395 )
texture = ExtResource( 13 )

[node name="wooden_plate" type="Sprite" parent="Decor"]
position = Vector2( 499.117, 117.782 )
texture = ExtResource( 14 )

[node name="drygrass_props2" type="Sprite" parent="Decor"]
position = Vector2( 360.75, 9.3845 )
texture = ExtResource( 10 )

[node name="BirdParticlesLeft" type="Particles2D" parent="Decor"]
self_modulate = Color( 1, 1, 1, 0.588235 )
material = SubResource( 1 )
position = Vector2( 320, 0 )
z_index = -1
amount = 1
lifetime = 6.0
preprocess = 1.0
visibility_rect = Rect2( -320, -180, 640, 360 )
local_coords = false
process_material = SubResource( 4 )
texture = ExtResource( 18 )

[node name="BirdParticlesRight" type="Particles2D" parent="Decor"]
self_modulate = Color( 1, 1, 1, 0.588235 )
material = SubResource( 1 )
position = Vector2( 320, 0 )
scale = Vector2( -1, 1 )
z_index = -1
amount = 1
lifetime = 5.0
visibility_rect = Rect2( -320, -180, 640, 360 )
local_coords = false
process_material = SubResource( 4 )
texture = ExtResource( 19 )

[node name="Weapons" type="YSort" parent="."]

[node name="CameraMan" parent="." instance=ExtResource( 20 )]
position = Vector2( 9.13449, -49.1004 )

[node name="Characters" parent="." instance=ExtResource( 6 )]
position = Vector2( 0, -28 )

[node name="Mage3" parent="Characters/BlueTeam" index="0"]
position = Vector2( 539.253, -41.9879 )

[node name="Mage1" parent="Characters/BlueTeam" index="1"]
position = Vector2( 104, 101.263 )

[node name="Mage2" parent="Characters/BlueTeam" index="2"]
position = Vector2( 286.241, 144.167 )

[node name="Mushroom1" parent="Characters/RedTeam" index="0"]
position = Vector2( 461.19, 138.787 )

[node name="Mushroom2" parent="Characters/RedTeam" index="1"]
position = Vector2( 303.224, 33.8158 )

[node name="Mushroom3" parent="Characters/RedTeam" index="2"]
position = Vector2( 481.547, -39.3048 )

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 5 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -5767049, 23, 0, -5701513, 23, 0, -5635977, 23, 0, -5570441, 23, 0, -5504905, 23, 0, -5439369, 23, 0, -5373833, 23, 0, -5308297, 23, 0, -5242761, 23, 0, -5177225, 23, 0, -5111689, 23, 0, -4980809, 25, 0, -5046153, 23, 0, -4915273, 25, 0, -4980617, 23, 0, -4849737, 25, 0, -4915081, 23, 0, -4784201, 25, 0, -4849545, 23, 0, -4718665, 25, 0, -4784009, 23, 0, -4653129, 25, 0, -4718473, 23, 0, -4587593, 25, 0, -4652937, 23, 0, -4522057, 25, 0, -4587401, 23, 0, -4456521, 25, 0, -4521865, 23, 0, -4390985, 25, 0, -4456329, 23, 0, -4325449, 25, 0, -4390793, 23, 0, -4259913, 25, 0, -4325257, 23, 0, -4194377, 25, 0, -4259721, 23, 0, -4128841, 25, 0, -4194185, 23, 0, -4063305, 25, 0, -4128649, 23, 0, -3997769, 25, 0, -4063113, 23, 0, -3932233, 25, 0, -3997577, 23, 0, -3866697, 25, 0, -3932041, 23, 0, -3801161, 25, 0, -3866505, 23, 0, -3735625, 25, 0, -3800969, 23, 0, -3670089, 25, 0, -3735433, 23, 0, -3604553, 25, 0, -3669897, 23, 0, -3539017, 25, 0, -3604361, 23, 0, -3473481, 25, 0, -3538825, 23, 0, -3407945, 25, 0, -3473289, 23, 0, -3342409, 25, 0, -3407753, 23, 0, -3276873, 25, 0, -3342217, 23, 0, -3211337, 25, 0, -3276681, 23, 0, -3145801, 25, 0, -3211145, 23, 0, -3080265, 25, 0, -3145609, 23, 0, -3014729, 25, 0, -3080073, 23, 0, -2949193, 25, 0, -3014537, 23, 0, -2883657, 25, 0, -2949001, 23, 0, -2818121, 25, 0, -2883465, 23, 0, -2752585, 25, 0, -2817929, 23, 0, -2687049, 25, 0, -2752393, 23, 0, -2621513, 25, 0, -2686857, 23, 0, -2555977, 25, 0, -2621321, 23, 0, -2490441, 25, 0, -2555785, 23, 0, -2424905, 25, 0, -2490249, 23, 0, -2359369, 25, 0, -2424713, 23, 0, -2293833, 25, 0, -2359177, 23, 0, -2228297, 25, 0, -2293641, 23, 0, -2162761, 25, 0, -2228105, 23, 0, -2097225, 25, 0, -2162569, 23, 0, -2031689, 25, 0, -2097033, 23, 0, -1966153, 25, 0, -2031497, 23, 0, -1900617, 25, 0, -1965961, 23, 0, -1835081, 25, 0, -1900425, 23, 0, -1769545, 25, 0, -1834889, 23, 0, -1704009, 25, 0, -1769353, 23, 0, -1638473, 25, 0, -1703817, 23, 0, -1572937, 25, 0, -1638281, 23, 0, -1507401, 25, 0, -1572745, 23, 0, -1441865, 25, 0, -1507209, 23, 0, -1376329, 25, 0, -1441673, 23, 0, -1310793, 25, 0, -1376137, 23, 0, -1245257, 25, 0, -1310601, 23, 0, -1179721, 25, 0, -1245065, 23, 0, -1114185, 25, 0, -1179529, 23, 0, -1048649, 25, 0, -1113993, 23, 0, -983113, 25, 0, -1048457, 23, 0, -917577, 25, 0, -982921, 23, 0, -852041, 25, 0, -917385, 23, 0, -786505, 25, 0, -851849, 23, 0, -720969, 25, 0, -786313, 23, 0, -655433, 25, 0, -720777, 23, 0, -589897, 25, 0, -655241, 23, 0, -524361, 25, 0, -589705, 23, 0, -458825, 25, 0, -524169, 23, 0, -393289, 25, 0, -458633, 23, 0, -327753, 25, 0, -393097, 23, 0, -262217, 25, 0, -327561, 23, 0, -196681, 25, 0, -262025, 23, 0, -131145, 25, 0, -196489, 23, 0, -65609, 25, 0, -130953, 23, 0, -73, 25, 0, -65417, 23, 0, 65463, 25, 0, 119, 23, 0, 130999, 25, 0, 65655, 23, 0, 196535, 25, 0, 131191, 23, 0, 262071, 25, 0, 196727, 23, 0, 327607, 25, 0, 262263, 23, 0, 393143, 25, 0, 327799, 23, 0, 458679, 25, 0, 393335, 23, 0, 524215, 25, 0, 458871, 23, 0, 589751, 25, 0, 524407, 23, 0, 655287, 25, 0, 589943, 23, 0, 720823, 25, 0, 655479, 23, 0, 786359, 25, 0, 721015, 23, 0, 851895, 25, 0, 786551, 23, 0, 917431, 25, 0, 852087, 23, 0, 982967, 25, 0, 917623, 23, 0, 1048503, 25, 0, 983159, 23, 0, 1114039, 25, 0, 1048695, 23, 0, 1179575, 25, 0, 1114231, 23, 0, 1245111, 25, 0, 1179767, 23, 0, 1310647, 25, 0, 1245303, 23, 0, 1376183, 25, 0, 1310839, 23, 0, 1441719, 25, 0, 1376375, 23, 0, 1507255, 25, 0, 1441911, 23, 0, 1572791, 25, 0, 1507447, 23, 0, 1638327, 25, 0, 1572983, 23, 0, 1703863, 25, 0, 1638519, 23, 0, 1769399, 25, 0, 1704055, 23, 0, 1834935, 25, 0, 1769591, 23, 0, 1900471, 25, 0, 1835127, 23, 0, 1966007, 25, 0, 1900663, 23, 0, 2031543, 25, 0, 1966199, 23, 0, 2097079, 29, 0, 2097080, 21, 0, 2097081, 21, 0, 2097082, 21, 0, 2097083, 21, 0, 2097084, 21, 0, 2097085, 21, 0, 2097086, 21, 0, 2097087, 21, 0, 2097088, 21, 0, 2097089, 21, 0, 2097090, 21, 0, 2097091, 21, 0, 2097092, 21, 0, 2097093, 21, 0, 2097094, 21, 0, 2097095, 21, 0, 2097096, 21, 0, 2097097, 21, 0, 2097098, 21, 0, 2097099, 21, 0, 2097100, 21, 0, 2097101, 21, 0, 2097102, 21, 0, 2097103, 21, 0, 2097104, 21, 0, 2097105, 21, 0, 2097106, 21, 0, 2097107, 21, 0, 2097108, 21, 0, 2097109, 21, 0, 2097110, 21, 0, 2097111, 21, 0, 2097112, 21, 0, 2097113, 21, 0, 2097114, 21, 0, 2097115, 21, 0, 2097116, 21, 0, 2097117, 21, 0, 2097118, 21, 0, 2097119, 21, 0, 2097120, 21, 0, 2097121, 21, 0, 2097122, 21, 0, 2097123, 21, 0, 2097124, 21, 0, 2097125, 21, 0, 2097126, 21, 0, 2097127, 21, 0, 2097128, 21, 0, 2097129, 21, 0, 2097130, 21, 0, 2097131, 21, 0, 2097132, 21, 0, 2097133, 21, 0, 2097134, 21, 0, 2097135, 21, 0, 2097136, 21, 0, 2097137, 21, 0, 2097138, 21, 0, 2097139, 21, 0, 2097140, 21, 0, 2097141, 21, 0, 2097142, 21, 0, 2097143, 21, 0, 2097144, 21, 0, 2097145, 21, 0, 2097146, 21, 0, 2097147, 21, 0, 2097148, 21, 0, 2097149, 21, 0, 2097150, 21, 0, 2097151, 21, 0, 2031616, 21, 0, 2031617, 21, 0, 2031618, 21, 0, 2031660, 21, 0, 2031661, 21, 0, 2031662, 21, 0, 2031663, 21, 0, 2031664, 21, 0, 2031665, 21, 0, 2031666, 21, 0, 2031667, 21, 0, 2031668, 21, 0, 2031669, 21, 0, 2031670, 21, 0, 2031671, 21, 0, 2031672, 21, 0, 2031673, 21, 0, 2031674, 21, 0, 2031675, 21, 0, 2031676, 21, 0, 2031677, 21, 0, 2031678, 21, 0, 2031679, 21, 0, 2031680, 21, 0, 2031681, 21, 0, 2031682, 21, 0, 2031683, 21, 0, 2031684, 21, 0, 2031685, 21, 0, 2031686, 21, 0, 2031687, 21, 0, 2031688, 21, 0, 2031689, 21, 0, 2031690, 21, 0, 2031691, 21, 0, 2031692, 21, 0, 2031693, 21, 0, 2031694, 21, 0, 2031695, 21, 0, 2031696, 21, 0, 2031697, 21, 0, 2031698, 21, 0, 2031699, 21, 0, 2031700, 21, 0, 2031701, 21, 0, 2031702, 21, 0, 2031703, 21, 0, 2031704, 21, 0, 2031705, 21, 0, 2031706, 21, 0, 2031707, 21, 0, 2031708, 21, 0, 2031709, 21, 0, 2031710, 21, 0, 2031711, 21, 0, 2031712, 21, 0, 2031713, 21, 0, 2031714, 21, 0, 2031715, 21, 0, 2031716, 21, 0, 2031717, 21, 0, 2031718, 21, 0, 2031719, 21, 0, 2031720, 21, 0, 2031721, 21, 0, 2031722, 21, 0, 2031723, 21, 0, 2031724, 21, 0, 2031725, 21, 0, 2031726, 21, 0, 2031727, 21, 0, 2031728, 21, 0, 2031729, 21, 0, 2031730, 21, 0, 2031731, 21, 0, 2031732, 21, 0, 2031733, 21, 0, 2031734, 21, 0, 2031735, 536870941, 0 )

[node name="HUD" type="CanvasLayer" parent="."]

[node name="WinMenu" parent="HUD" instance=ExtResource( 23 )]

[node name="LoseMenu" parent="HUD" instance=ExtResource( 24 )]

[node name="Control" type="Control" parent="HUD"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BlueTeamHP" parent="HUD/Control" instance=ExtResource( 21 )]
margin_top = 158.001
margin_bottom = 258.0
team_color = Color( 0.403922, 0.560784, 0.796078, 1 )

[node name="RedTeamHP" parent="HUD/Control" instance=ExtResource( 21 )]
margin_top = 168.001
margin_bottom = 268.0
team_color = Color( 0.741176, 0.317647, 0.352941, 1 )
team_name = "Red Team"

[node name="TimeLeftLabel" type="Label" parent="HUD/Control"]
margin_left = 152.647
margin_top = -4.38276
margin_right = 207.647
margin_bottom = 13.6172
custom_fonts/font = SubResource( 5 )
text = "Time"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TurnTimer" type="Timer" parent="HUD/Control"]
wait_time = 15.0
one_shot = true
autostart = true

[node name="TimeLabel" type="Label" parent="HUD/Control/TurnTimer"]
margin_left = 146.562
margin_top = -1.1842
margin_right = 186.562
margin_bottom = 33.8158
custom_fonts/font = SubResource( 6 )
text = "15"
align = 1
script = ExtResource( 17 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TurnLabel" type="Label" parent="HUD/Control"]
margin_left = 4.58158
margin_top = -4.5308
margin_right = 101.582
margin_bottom = 13.4692
custom_fonts/font = SubResource( 7 )
text = "Turn: Blue Team"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MenuLabel" type="Label" parent="HUD/Control"]
self_modulate = Color( 1, 1, 1, 0.588235 )
margin_left = 267.078
margin_top = 152.74
margin_right = 318.078
margin_bottom = 179.74
custom_fonts/font = SubResource( 8 )
custom_constants/line_spacing = 0
text = "
M for Menu"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Audio" type="Node2D" parent="."]

[node name="ThemeAudio" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource( 22 )
volume_db = -5.0
autoplay = true

[node name="Stage" parent="." instance=ExtResource( 7 )]
position = Vector2( 48, -432 )
[connection signal="timeout" from="HUD/Control/TurnTimer" to="." method="_on_TurnTimer_timeout"]

[editable path="Characters"]
